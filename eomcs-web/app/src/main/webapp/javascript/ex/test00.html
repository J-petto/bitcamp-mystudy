<!DOCTYPE html>
<html>

<!-- 잘못된 사용법 -->
<!-- html의 자식은 head와 body뿐이다. script는 -->
<!-- <script>console.log("000")</script> -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- <script>
        console.log("111")
        window.alert("잠깐")
    </script> -->
</head>

<!-- <script> console.log("222")</script> -->

<body>
    <!-- <script>
        console.log("333")
    </script> -->
    <h1>테스트</h1>

    <!-- 이런식으로 태그나 내부 타입을 잘못 적으면 인식이 불가하다. -->
    <!-- <script type="text/javascropt"> 내부 스크립트 문이 동작 하지 않는다.-->
    <!-- <scropt> 사용자가 만든 태그라고 인식, 웹페이지에 코드를 다 뿌린다.-->

    <!-- <script type="text/javascript"></script> 기본 디폴트 타입이 javascript이기에 안 붙이는게 낫다.-->
    <script>
        var xhr = new XMLHttpRequest()

        // 동기와 비동기에 대해서 확실히 하기

        // 동기 방식은 요청과 응답이 순차적으로 이루어져 한 작업이 끝날 때 까지 다른 작업을 진행하지 않고 대기한다.
        // - 코드가 직관적이라 이해하기 쉽고 순차적으로 실행되어 실행 순서 예측에 용이하다.
        // - 시간이 오래걸리는 작업일 경우 전체 시스템이 대기 상태가 되어 성능이 저하될 수도 있다.

        // 비동기 방식은 작업 요청 후 응답이 오지 않아도 다른 작업을 즉시 수행한다. 그 후 응답이 온 시점에 그 결과를 처리한다.
        // - 시간이 오래 걸리는 작업이 있더라도 병행이 가능해 자원을 효율적으로 사용가능하며 응답이 빨라 사용자 경험이 개선된다.
        // - 작업 순서가 직관적이지 않아 코드를 이애하고 디버깅 하기 쉽지않으며 에러 처리와 흐름 제어가 복잡할 수 있다.
        xhr.onreadystatechange = function () {
            if (xhr.readyState == 4) {
                console.log(xhr.responseText)
                window.alert(xhr.responseText)
            }
        }
        xhr.open("GET", "/hello", true)
        xhr.send()

        // window.alert(xhr.responseText)
    </script>
    <!-- <script>console.log("444")</script> -->
</body>

<!-- <script>console.log("555")</script> -->

</html>